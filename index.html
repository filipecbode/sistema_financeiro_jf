<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gest√£o Empresarial</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Tela de Login -->
    <div id="login-screen" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <h2>üöÄ Gest√£oPro</h2>
                <p>Sistema de Gest√£o Empresarial</p>
            </div>
            <form id="login-form" class="login-form">
                <div class="form-group">
                    <label class="form-label">Usu√°rio</label>
                    <input type="text" id="login-usuario" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Senha</label>
                    <input type="password" id="login-senha" class="form-control" required>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Entrar</button>
                <div class="login-info">
                    <small>Usu√°rio: admin | Senha: 123456</small>
                </div>
            </form>
        </div>
    </div>

    <!-- App Principal -->
    <div class="app-layout hidden" id="main-app">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>üöÄ Gest√£oPro</h2>
                <button class="logout-btn" id="logout-btn">Sair</button>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h4 class="nav-section-title">FINANCEIRO</h4>
                    <a href="#" class="nav-item active" data-section="dashboard">
                        <span class="nav-icon">üìä</span>
                        Dashboard
                    </a>
                    <a href="#" class="nav-item" data-section="receitas">
                        <span class="nav-icon">üí∞</span>
                        Contas a Receber
                    </a>
                    <a href="#" class="nav-item" data-section="despesas">
                        <span class="nav-icon">üí∏</span>
                        Contas a Pagar
                    </a>
                    <a href="#" class="nav-item" data-section="relatorios">
                        <span class="nav-icon">üìà</span>
                        Relat√≥rios Financeiros
                    </a>
                </div>
                <div class="nav-section">
                    <h4 class="nav-section-title">GEST√ÉO</h4>
                    <a href="#" class="nav-item" data-section="clientes">
                        <span class="nav-icon">üë•</span>
                        Clientes
                    </a>
                    <a href="#" class="nav-item" data-section="fornecedores">
                        <span class="nav-icon">üè¢</span>
                        Fornecedores
                    </a>
                    <a href="#" class="nav-item" data-section="produtos">
                        <span class="nav-icon">üì¶</span>
                        Produtos
                    </a>
                    <a href="#" class="nav-item" data-section="vendas">
                        <span class="nav-icon">üõí</span>
                        Vendas (PDV)
                    </a>
                    <a href="#" class="nav-item" data-section="relatorios-vendas">
                        <span class="nav-icon">üìä</span>
                        Relat√≥rios de Vendas
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <header class="section-header">
                    <h1>Dashboard Geral</h1>
                </header>

                <!-- Alertas -->
                <div class="alerts-container" id="dashboard-alerts"></div>

                <!-- Cards informativos -->
                <div class="cards-grid">
                    <div class="card info-card financial">
                        <div class="card__body">
                            <h3>Saldo Atual</h3>
                            <p class="card-value" id="saldo-atual">R$ 0,00</p>
                        </div>
                    </div>
                    <div class="card info-card sales">
                        <div class="card__body">
                            <h3>Contas a Pagar Pendentes</h3>
                            <p class="card-value" id="contas-pagar-pendentes">0</p>
                        </div>
                    </div>
                    <div class="card info-card clients">
                        <div class="card__body">
                            <h3>Contas a Receber Pendentes</h3>
                            <p class="card-value" id="contas-receber-pendentes">0</p>
                        </div>
                    </div>
                    <div class="card info-card products">
                        <div class="card__body">
                            <h3>Fornecedores Ativos</h3>
                            <p class="card-value" id="fornecedores-ativos">0</p>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="charts-container">
                    <div class="card chart-card">
                        <div class="card__body">
                            <h3>Receitas vs Despesas</h3>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="financeiro-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="card chart-card">
                        <div class="card__body">
                            <h3>Contas Vencendo</h3>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="vencimentos-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contas vencendo -->
                <div class="card">
                    <div class="card__body">
                        <h3>Contas Vencendo nos Pr√≥ximos 7 Dias</h3>
                        <div id="contas-vencendo"></div>
                    </div>
                </div>
            </section>

            <!-- Contas a Receber Section -->
            <section id="receitas" class="section">
                <header class="section-header">
                    <h1>Contas a Receber</h1>
                    <button class="btn btn--primary" id="nova-conta-receber-btn">+ Nova Conta a Receber</button>
                </header>
                <div class="filters">
                    <select id="filter-status-receitas" class="form-control">
                        <option value="todos">Todos os status</option>
                        <option value="pendente">Pendente</option>
                        <option value="pago">Pago</option>
                    </select>
                    <select id="filter-categoria-receitas" class="form-control">
                        <option value="todas">Todas as categorias</option>
                    </select>
                    <input type="date" id="filter-data-inicio-receitas" class="form-control" placeholder="Data de">
                    <input type="date" id="filter-data-fim-receitas" class="form-control" placeholder="Data at√©">
                    <button class="btn btn--secondary" onclick="clearFilters('receitas')">Limpar Filtros</button>
                </div>
                <div class="card">
                    <div class="card__body">
                        <div class="table-container" id="receitas-table"></div>
                    </div>
                </div>
            </section>

            <!-- Contas a Pagar Section -->
            <section id="despesas" class="section">
                <header class="section-header">
                    <h1>Contas a Pagar</h1>
                    <button class="btn btn--primary" id="nova-conta-pagar-btn">+ Nova Conta a Pagar</button>
                </header>
                <div class="filters">
                    <select id="filter-status-despesas" class="form-control">
                        <option value="todos">Todos os status</option>
                        <option value="pendente">Pendente</option>
                        <option value="pago">Pago</option>
                    </select>
                    <select id="filter-categoria-despesas" class="form-control">
                        <option value="todas">Todas as categorias</option>
                    </select>
                    <input type="date" id="filter-data-inicio-despesas" class="form-control" placeholder="Data de">
                    <input type="date" id="filter-data-fim-despesas" class="form-control" placeholder="Data at√©">
                    <button class="btn btn--secondary" onclick="clearFilters('despesas')">Limpar Filtros</button>
                </div>
                <div class="card">
                    <div class="card__body">
                        <div class="table-container" id="despesas-table"></div>
                    </div>
                </div>
            </section>

            <!-- Fornecedores Section -->
            <section id="fornecedores" class="section">
                <header class="section-header">
                    <h1>Gest√£o de Fornecedores</h1>
                    <div class="header-actions">
                        <div class="search-box">
                            <input type="text" id="search-fornecedores" class="form-control" placeholder="Buscar fornecedor...">
                        </div>
                        <select id="filter-status-fornecedores" class="form-control">
                            <option value="todos">Todos os status</option>
                            <option value="ativo">Ativo</option>
                            <option value="inativo">Inativo</option>
                        </select>
                        <button class="btn btn--primary" id="novo-fornecedor-btn">+ Novo Fornecedor</button>
                    </div>
                </header>
                <div class="card">
                    <div class="card__body">
                        <div class="table-container" id="fornecedores-table"></div>
                    </div>
                </div>
            </section>

            <!-- Clientes Section -->
            <section id="clientes" class="section">
                <header class="section-header">
                    <h1>Gest√£o de Clientes</h1>
                    <div class="header-actions">
                        <div class="search-box">
                            <input type="text" id="search-clientes" class="form-control" placeholder="Buscar cliente...">
                        </div>
                        <select id="filter-status-clientes" class="form-control">
                            <option value="todos">Todos os status</option>
                            <option value="ativo">Ativo</option>
                            <option value="inativo">Inativo</option>
                        </select>
                        <button class="btn btn--primary" id="novo-cliente-btn">+ Novo Cliente</button>
                    </div>
                </header>
                <div class="card">
                    <div class="card__body">
                        <div class="table-container" id="clientes-table"></div>
                    </div>
                </div>
            </section>

            <!-- Produtos Section -->
            <section id="produtos" class="section">
                <header class="section-header">
                    <h1>Gest√£o de Produtos</h1>
                    <div class="header-actions">
                        <div class="search-box">
                            <input type="text" id="search-produtos" class="form-control" placeholder="Buscar produto...">
                        </div>
                        <select id="filter-categoria-produtos" class="form-control">
                            <option value="todas">Todas as categorias</option>
                        </select>
                        <select id="filter-status-produtos" class="form-control">
                            <option value="todos">Todos os status</option>
                            <option value="ativo">Ativo</option>
                            <option value="inativo">Inativo</option>
                        </select>
                        <button class="btn btn--primary" id="novo-produto-btn">+ Novo Produto</button>
                    </div>
                </header>
                <div class="card">
                    <div class="card__body">
                        <div class="table-container" id="produtos-table"></div>
                    </div>
                </div>
            </section>

            <!-- Vendas (PDV) Section -->
            <section id="vendas" class="section">
                <header class="section-header">
                    <h1>Ponto de Venda (PDV)</h1>
                    <div class="header-actions">
                        <button class="btn btn--secondary" id="historico-vendas-btn">üìã Hist√≥rico de Vendas</button>
                    </div>
                </header>
                
                <div class="pdv-container">
                    <div class="pdv-left">
                        <!-- Sele√ß√£o do Cliente -->
                        <div class="card">
                            <div class="card__body">
                                <h3>Cliente</h3>
                                <select id="pdv-cliente" class="form-control">
                                    <option value="">Selecione um cliente...</option>
                                </select>
                            </div>
                        </div>

                        <!-- Busca de Produtos -->
                        <div class="card">
                            <div class="card__body">
                                <h3>Adicionar Produtos</h3>
                                <div class="product-search">
                                    <input type="text" id="pdv-search-produto" class="form-control" placeholder="Buscar produto por nome...">
                                    <div id="pdv-produtos-list" class="produtos-list"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pdv-right">
                        <!-- Carrinho -->
                        <div class="card">
                            <div class="card__body">
                                <h3>Carrinho de Compras</h3>
                                <div id="pdv-carrinho" class="carrinho"></div>
                                
                                <!-- Totais -->
                                <div class="totals-section">
                                    <div class="total-line">
                                        <span>Subtotal:</span>
                                        <span id="pdv-subtotal">R$ 0,00</span>
                                    </div>
                                    <div class="total-line">
                                        <label>
                                            Desconto (R$): 
                                            <input type="number" id="pdv-desconto" class="form-control inline" value="0" min="0" step="0.01">
                                        </label>
                                    </div>
                                    <div class="total-line final">
                                        <span><strong>Total:</strong></span>
                                        <span id="pdv-total"><strong>R$ 0,00</strong></span>
                                    </div>
                                </div>

                                <!-- Pagamento -->
                                <div class="payment-section">
                                    <h4>Forma de Pagamento</h4>
                                    <select id="pdv-pagamento" class="form-control">
                                        <option value="dinheiro">Dinheiro</option>
                                        <option value="cartao">Cart√£o</option>
                                        <option value="pix">PIX</option>
                                        <option value="boleto">Boleto</option>
                                    </select>
                                    <div id="pdv-parcelas-container" class="hidden">
                                        <label>Parcelas:</label>
                                        <select id="pdv-parcelas" class="form-control">
                                            <option value="1">1x</option>
                                            <option value="2">2x</option>
                                            <option value="3">3x</option>
                                            <option value="6">6x</option>
                                            <option value="12">12x</option>
                                        </select>
                                    </div>
                                </div>

                                <button class="btn btn--primary btn--full-width" id="finalizar-venda-btn">
                                    üõí Finalizar Venda
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Relat√≥rios de Vendas Section -->
            <section id="relatorios-vendas" class="section">
                <header class="section-header">
                    <h1>Relat√≥rios de Vendas</h1>
                    <div class="header-actions">
                        <input type="date" id="filtro-data-inicio" class="form-control">
                        <input type="date" id="filtro-data-fim" class="form-control">
                        <button class="btn btn--secondary" id="aplicar-filtro-vendas">Aplicar Filtro</button>
                    </div>
                </header>

                <!-- Cards de m√©tricas -->
                <div class="cards-grid">
                    <div class="card info-card">
                        <div class="card__body">
                            <h3>Total de Vendas</h3>
                            <p class="card-value" id="total-vendas-periodo">R$ 0,00</p>
                        </div>
                    </div>
                    <div class="card info-card">
                        <div class="card__body">
                            <h3>N√∫mero de Vendas</h3>
                            <p class="card-value" id="numero-vendas-periodo">0</p>
                        </div>
                    </div>
                    <div class="card info-card">
                        <div class="card__body">
                            <h3>Ticket M√©dio</h3>
                            <p class="card-value" id="ticket-medio-periodo">R$ 0,00</p>
                        </div>
                    </div>
                    <div class="card info-card">
                        <div class="card__body">
                            <h3>Melhor Cliente</h3>
                            <p class="card-value-text" id="melhor-cliente-periodo">-</p>
                        </div>
                    </div>
                </div>

                <!-- Charts de vendas -->
                <div class="charts-container">
                    <div class="card chart-card">
                        <div class="card__body">
                            <h3>Vendas por M√™s</h3>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="vendas-mes-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="card chart-card">
                        <div class="card__body">
                            <h3>Top 5 Produtos</h3>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="top-produtos-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lista de vendas recentes -->
                <div class="card">
                    <div class="card__body">
                        <h3>Vendas Recentes</h3>
                        <div id="vendas-recentes-table"></div>
                    </div>
                </div>
            </section>

            <!-- Relat√≥rios Financeiros Section -->
            <section id="relatorios" class="section">
                <header class="section-header">
                    <h1>Relat√≥rios Financeiros</h1>
                </header>
                <div class="cards-grid">
                    <div class="card">
                        <div class="card__body">
                            <h3>Receitas Pagas</h3>
                            <p class="card-value receitas" id="total-receitas-pagas">R$ 0,00</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card__body">
                            <h3>Despesas Pagas</h3>
                            <p class="card-value despesas" id="total-despesas-pagas">R$ 0,00</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card__body">
                            <h3>Resultado</h3>
                            <p class="card-value" id="resultado-total">R$ 0,00</p>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card__body">
                        <h3>Resumo por Categoria</h3>
                        <div id="resumo-categorias"></div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modais -->
    <!-- Modal para transa√ß√£o -->
    <div id="transaction-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="transaction-modal-title">Nova Transa√ß√£o</h3>
                <button class="modal-close" id="close-transaction-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="transaction-form">
                    <div class="form-group">
                        <label class="form-label">Tipo</label>
                        <select id="transaction-type" class="form-control" required>
                            <option value="receita">Receita</option>
                            <option value="despesa">Despesa</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descri√ß√£o</label>
                        <input type="text" id="transaction-description" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Valor (R$)</label>
                        <input type="number" id="transaction-value" class="form-control" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Categoria</label>
                        <select id="transaction-category" class="form-control" required></select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Fornecedor</label>
                        <select id="transaction-fornecedor" class="form-control">
                            <option value="">Selecione um fornecedor...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data de Vencimento</label>
                        <input type="date" id="transaction-date" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="transaction-recurring">
                            Transa√ß√£o recorrente (mensal)
                        </label>
                    </div>
                    <div class="form-group" id="transaction-parcelas-group">
                        <label class="form-label">N√∫mero de Parcelas</label>
                        <input type="number" id="transaction-parcelas" class="form-control" min="1" max="24">
                        <small class="form-text">Deixe vazio para pagamento √∫nico</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select id="transaction-status" class="form-control">
                            <option value="pendente">Pendente</option>
                            <option value="pago">Pago</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn--secondary" id="cancel-transaction">Cancelar</button>
                        <button type="submit" class="btn btn--primary">Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para fornecedor -->
    <div id="fornecedor-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="fornecedor-modal-title">Novo Fornecedor</h3>
                <button class="modal-close" id="close-fornecedor-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="fornecedor-form">
                    <div class="form-group">
                        <label class="form-label">Nome</label>
                        <input type="text" id="fornecedor-nome" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">E-mail</label>
                        <input type="email" id="fornecedor-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Telefone</label>
                        <input type="text" id="fornecedor-telefone" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Endere√ßo</label>
                        <input type="text" id="fornecedor-endereco" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">CPF/CNPJ</label>
                        <input type="text" id="fornecedor-documento" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select id="fornecedor-status" class="form-control">
                            <option value="ativo">Ativo</option>
                            <option value="inativo">Inativo</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn--secondary" id="cancel-fornecedor">Cancelar</button>
                        <button type="submit" class="btn btn--primary">Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para cliente -->
    <div id="cliente-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="cliente-modal-title">Novo Cliente</h3>
                <button class="modal-close" id="close-cliente-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="cliente-form">
                    <div class="form-group">
                        <label class="form-label">Nome</label>
                        <input type="text" id="cliente-nome" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">E-mail</label>
                        <input type="email" id="cliente-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Telefone</label>
                        <input type="text" id="cliente-telefone" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Endere√ßo</label>
                        <input type="text" id="cliente-endereco" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">CPF/CNPJ</label>
                        <input type="text" id="cliente-documento" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select id="cliente-status" class="form-control">
                            <option value="ativo">Ativo</option>
                            <option value="inativo">Inativo</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn--secondary" id="cancel-cliente">Cancelar</button>
                        <button type="submit" class="btn btn--primary">Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para produto -->
    <div id="produto-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="produto-modal-title">Novo Produto</h3>
                <button class="modal-close" id="close-produto-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="produto-form">
                    <div class="form-group">
                        <label class="form-label">Nome</label>
                        <input type="text" id="produto-nome" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descri√ß√£o</label>
                        <textarea id="produto-descricao" class="form-control" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pre√ßo de Custo (R$)</label>
                        <input type="number" id="produto-preco-custo" class="form-control" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pre√ßo de Venda (R$)</label>
                        <input type="number" id="produto-preco-venda" class="form-control" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Categoria</label>
                        <select id="produto-categoria" class="form-control" required></select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Estoque</label>
                        <input type="number" id="produto-estoque" class="form-control" min="0" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select id="produto-status" class="form-control">
                            <option value="ativo">Ativo</option>
                            <option value="inativo">Inativo</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn--secondary" id="cancel-produto">Cancelar</button>
                        <button type="submit" class="btn btn--primary">Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal hist√≥rico de vendas -->
    <div id="historico-vendas-modal" class="modal hidden">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Hist√≥rico de Vendas</h3>
                <button class="modal-close" id="close-historico-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="historico-vendas-content"></div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>